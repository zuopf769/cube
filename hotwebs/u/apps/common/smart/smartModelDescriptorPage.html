<!DOCTYPE html>
<html>
<head>
    <title>smartModelDescriptorPage</title>
    <link rel="stylesheet" href="styles/kendo.common.min.css" />
    <link rel="stylesheet" href="../../../kendoui/trial/styles/kendo.bootstrap.min.css" rel="stylesheet" />

    <script src="../../../jquery/jquery-1.11.1.min.js"></script>
    <script src="js/kendo.all.min.js"></script>
	<script src="token.js"></script>
	<script src="function.js"></script>
	<script src="editWindow.js"></script>
	<script src="parameterEdit.js"></script>
	<script src="sortEdit.js"></script>
	<script src="smartModelDescriptorPage.js"></script>
</head>
<body>
	<div id="Container">
		<div id="Header">
			<div id="titlediv"><strong style="clear: both; font-family: 'Microsoft YaHei UI'; color: lightblue;font-size:20px">语义模型设计向导</strong></div>
			<div id="topbuttons">
				<button id="providerButton" style="width:80px">选择表</button> <img align="center" style="height:18px" src="icon/a.ico"></img>
				<button id="joinButton" style="width:80px">连接条件</button> <img align="center" style="height:18px" src="icon/a.ico"></img>
				<button id="fieldButton" style="width:80px">选择字段</button> <img align="center" style="height:18px" src="icon/a.ico"></img>
				<button id="descriptorButton" class="k-primary" style="width:80px">描述器</button> <img align="center" style="height:18px" src="icon/a.ico"></img>
				<button id="otherButton" style="width:80px">其他</button>
			</div>
		</div>
		<div id="Center">
			<div id="Card">
				<button id="A" style="width:80px">过滤</button>
				<button id="B" style="width:80px">排序</button>
				<button id="C" style="width:80px">去重</button>
				<button id="D" style="width:80px">参数</button>
				<button id="E" style="width:80px">宏</button>
			</div>
			<!--smartMetaTreeWindow挪出来，是因为如果放在editFilterWindow中，在sortEditWindow中弹出需要点两次，为了公用，所以挪出来了-->
			<div id="smartMetaTreeWindow" style="display: none">
				<div id="smartMetaTree"></div>
				<button id="smartMetaTree_saveButton" class="k-primary">确定</button>
				<button id="smartMetaTree_cancleButton">取消</button>
			</div>
			<div id="filterCenter" style="display: none">
				<div id="filterGridArea">
					<div id="filterTreelist"></div>
					<div id="xxxxxx"></div>
				</div>
				<div id="filterButtons">
					<br></br>
					<p>
						<button id="filter_addButton" style="width:100px">增加条件</button>
					</p>
					<p>
						<button id="filter_addSubButton" style="width:100px">增加子条件</button>
					</p>
					<p>
						<button id="filter_editButton" style="width:100px">编辑</button>
					</p>
					<p>
						<button id="filter_delButton" style="width:100px">删除</button>
					</p>
				</div>
				<div id="editFilterWindow" style="display: none">
					<div id="editWindow" style="display: none">
						<p>
							<textarea id="expression" style="height:50px;width:800px"></textarea>
						</p>
						<div id="entityGrid"></div>
						<div id="attrGrid"></div>
						<div id="functionTree"></div>
						<div id="symbolArea">
							<p>
								<button id="jia" style="width:50px">+</button>
								<button id="jian" style="width:50px">-</button>
								<button id="cheng" style="width:50px">*</button>
								<button id="chu" style="width:50px">/</button>
							</p>
							<p>
								<button id="zuokuo" style="width:50px">(</button>
								<button id="youkuo" style="width:50px">)</button>
								<button id="huo" style="width:50px">||</button>
								<button id="shangDan" style="width:50px">'</button>
							</p>
							<p>
								<button id="xiaDan" style="width:50px">,</button>
								<button id="one" style="width:50px">1</button>
								<button id="two" style="width:50px">2</button>
								<button id="three" style="width:50px">3</button>
							</p>
							<p>
								<button id="four" style="width:50px">4</button>
								<button id="five" style="width:50px">5</button>
								<button id="six" style="width:50px">6</button>
								<button id="seven" style="width:50px">7</button>
							</p>
							<p>
								<button id="eight" style="width:50px">8</button>
								<button id="nine" style="width:50px">9</button>
								<button id="zeor" style="width:50px">0</button>
								<button id="dian" style="width:50px">.</button>
							</p>
							<p>
								<button id="ling" style="width:50px">NULL</button>
							</p>
						</div>
						<div class="Clear"><!--如何你上面用到float,下面布局开始前最好清除一下。--></div>
						<div id="windowFooter">
							<button id="editWindowSaveButton" class="k-primary">保存</button>
							<button id="editWindowCancleButton">取消</button>
						</div>
					</div>
					<div id="parameterWindow" style="display: none">
						<div id="parameterGrid"></div>
						<div id="parameterButton">
							<button id="parameter_saveButton" class="k-primary">确定</button>
							<button id="parameter_cancleButton">取消</button>
						</div>
					</div>
					<div id="macroWindow" style="display: none">
						<div id="macroGrid"></div>
						<div id="macroButton">
							<button id="macro_saveButton" class="k-primary">确定</button>
							<button id="macro_cancleButton">取消</button>
						</div>
					</div>
					<div id="metaWindow" style="display: none">
						<div id="metaTree"></div>
						<div id="metaButton">
							<button id="meta_saveButton" class="k-primary">确定</button>
							<button id="meta_cancleButton">取消</button>
						</div>
					</div>
					
					<table width="550">
						<tr>
							<td><label for="logicCode">逻辑符:</label></td>
							<td><input id="logicCode" type="textBox"></input></td>
							<td><label for="fieldName">字段:</label></td>
							<td><input id="fieldName" type="textBox" onclick="openSmartMetaTree()"></input></td>
						</tr>
						<tr>
							<td><label for="operatorCode">操作符:</label></td>
							<td><input id="operatorCode" type="textBox"></input></td>
							<td><label for="valueType">值类型:</label></td>
							<td><input id="valueType" type="textBox"></input></td>
						</tr>
						<tr>
							<td><label for="value">值:</label></td>
							<td><input id="value" type="textBox" onclick="openValue()"></input></td>
							<td><label for="dataType"></label></td>
							<td><input id="dataType" type="hidden" value="-1"></input></td>
						</tr>
						<tr>
							<td></td>
							<td></td>
							<td></td>
							<td>
								<button id="update_filterButton" class="k-primary">保存</button>
								<button id="update_cancle_filterButton" class="editButton">取消</button>
							</td>
						</tr>
					</table>
				</div>
			</div>
			<div id="sortCenter" style="display: none">
				<div id="sortGridArea">
					<div id="sortGrid"></div>
				</div>
				<div id="sortButtons">
					<br></br>
					<p>
						<button id="sort_addButton" style="width:100px">增加</button>
					</p>
					<p>
						<button id="sort_updateButton" style="width:100px">修改</button>
					</p>
					<p>
						<button id="sort_delButton" style="width:100px">删除</button>
					</p>
					<p>
						<button id="sort_upButton" style="width:100px">上移</button>
					</p>
					<p>
						<button id="sort_downButton" style="width:100px">下移</button>
					</p>
				</div>
				<div id="sortEditWindow" style="display: none">
					<table>
						<tr height="50">
							<td width="100px"><label for="sort_fieldExpression">字段:</label></td>
							<td><input id="sort_fieldExpression" type="textBox" onclick="openSmartMetaTree2()"></input></td>
						</tr>
						<tr height="50">
							<td width="100px"><label for="sort_descending">排列顺序:</label></td>
							<td><input id="sort_descending" type="textBox"></input></td>
						</tr>
						<tr height="50">
							<td></td>
							<td align="right">
								<button id="sort_save_Button" class="k-primary">保存</button>
								<button id="sort_cancle_Button">取消</button>
							</td>
						</tr>
					</table>
				</div>
			</div>
			<div id="distinctCenter" style="display: none">
				<br></br>
				<p>
					<label for="distinctCode">清除重复行（Distinct描述器）:</label>
					<input id="distinctCode" type="textBox"></input>
				</p>
			</div>
			<div id="parameterCenter" style="display: none">
				<div id="pmGridArea">
					<div id="pmGrid"></div>
				</div>
				<div id="pmButtons">
					<br></br>
					<p>
						<button id="pm_addButton" class="editButton" style="width:100px">增加</button>
					</p>
					<p>
						<button id="pm_editButton" class="editButton" style="width:100px">编辑</button>
					</p>
					<p>
						<button id="pm_delButton" class="editButton" style="width:100px">删除</button>
					</p>
				</div>
				<div id="editParameterWindow" style="display: none">
					<div id="refinfoWindow" style="display: none">
						<div id="refInfoGrid"></div>
						<div id="refInfoButtons">
							<button id="refInfo_save_Button" class="k-primary">保存</button>
							<button id="refInfo_cancle_Button">取消</button>
						</div>
					</div>
					<table>
						<tr>
							<td width="100px"><label for="pm_Name">名称:</label></td>
							<td><input id="pm_Name" type="textBox"></input></td>
							<td width="100px"><label for="pm_Code">编码:</label></td>
							<td><input id="pm_Code" type="textBox"></input></td>
						</tr>
						<tr>
							<td width="100px"><label for="pm_Operator">操作符:</label></td>
							<td><input id="pm_Operator" type="textBox"></input></td>
							<td width="100px"><label for="pm_Datatype">类型:</label></td>
							<td><input id="pm_Datatype" type="textBox"></input></td>
						</tr>
						<tr>
							<td width="100px"><label for="pm_RefCode">属性:</label></td>
							<td><input id="pm_RefCode" type="textBox" onclick="openReferInfoWindow()"></input></td>
							<td width="100px"><label for="pm_Value">默认值:</label></td>
							<td><input id="pm_Value" type="textBox"></input></td>
						</tr>
						<tr>
							<td width="100px"><label for="pm_Required">是否必填:</label></td>
							<td><input id="pm_Required" type="textBox"></input></td>
							<td width="100px"><label for="pm_RefDepend">参照依赖:</label></td>
							<td><input id="pm_RefDepend" type="textBox"></input></td>
						</tr>
						<tr>
							<td width="100px"><label for="pm_IsEnablePermission">数据权限:</label></td>
							<td><input id="pm_IsEnablePermission" type="textBox"></input></td>
							<td width="100px"><label for="pm_OperationCode">使用场景:</label></td>
							<td><input id="pm_OperationCode" type="textBox"></input></td>
						</tr>
						<tr>
							<td width="100px"><label for="pm_Note">描述:</label></td>
							<td><input id="pm_Note" type="textBox"></input></td>
							<td width="100px"></td>
							<td><input id="pm_EditType" type="hidden"></input></td>
						</tr>
						<tr>
							<td></td>
							<td></td>
							<td></td>
							<td align="right">
								<button id="pm_save_Button" class="k-primary">保存</button>
								<button id="pm_cancle_Button">取消</button>
							</td>
						</tr>
					</table>
				</div>
			</div>
			<div id="macroCenter" style="display: none">
				<div id="maGrid"></div>
				<div id="maButtons">
					<br></br>
					<p>
						<button id="macro_addButton" class="editButton" style="width:100px">增加</button>
					</p>
					<p>
						<button id="macro_editButton" class="editButton" style="width:100px">编辑</button>
					</p>
					<p>
						<button id="macro_delButton" class="editButton" style="width:100px">删除</button>
					</p>
				</div>
			</div>
		</div>
		<div id="Footer">
			<button id="nextButton" style="width:70px">下一步</button>
			<button id="saveButton" style="width:70px">保存</button>
			<button id="cancleButton" style="width:70px">取消</button>
			<button id="finishButton" style="width:70px">完成</button>
		</div>
	</div>
	<style scoped>
		#Container{
			width:100%;
			margin:0 auto;/*设置整个容器在浏览器中水平居中*/
		}
		#Header {
			margin:10px;
			overflow:hidden;
		}
		#titlediv {
			width:20%
			text-align: left;
			float:left;
		}
		#topbuttons {
			width:75%
			text-align: right;
			float:right;
		}
		#Center {
			/*处理左右多列等高*/
			overflow:hidden;
			border:1px solid #d3d3d3;
		}
		#Card {
			margin:10px;
		}
		#filterGridArea {
			width:87%;
			float:left;
			margin:10px;
			padding-bottom:2000px;/*处理左右多列等高*/
			margin-bottom:-2000px;
		}
		#xxxxxx {
			/*不知道为啥，filterTreeList不受控制，所以用这个控制边距*/
			margin:10px;
		}
		#filterButtons {
			float:left;
			margin:10px;
			padding-bottom:2000px;/*处理左右多列等高*/
			margin-bottom:-2000px;
		}
		#smartMetaTree{
			width:550px;
			height:400px;
			margin:10px;
		}
		#parameterGrid{
			width:550px;
			height:400px;
			margin:10px;
		}
		#parameterButton {
		    margin:10px;/*设置元素跟其他元素的距离为20像素*/
		    float:right;/*设置浮动，实现多列效果，div+Css布局中很重要的*/
		}
		#macroGrid{
			width:550px;
			height:400px;
			margin:10px;
		}
		#macroButton {
		    margin:10px;/*设置元素跟其他元素的距离为20像素*/
		    float:right;/*设置浮动，实现多列效果，div+Css布局中很重要的*/
		}
		#metaTree{
			width:550px;
			height:400px;
			margin:10px;
		}
		#metaButton {
		    margin:10px;/*设置元素跟其他元素的距离为20像素*/
		    float:right;/*设置浮动，实现多列效果，div+Css布局中很重要的*/
		}
		#entityGrid {
			height:300px;
			width:150px;
		    margin:10px;/*设置元素跟其他元素的距离为20像素*/
		    float:left;/*设置浮动，实现多列效果，div+Css布局中很重要的*/
			/*background:#00C;*/
		}
		#attrGrid {
			height:300px;
			width:150px;
		    margin:10px;/*设置元素跟其他元素的距离为20像素*/
		    float:left;/*设置浮动，实现多列效果，div+Css布局中很重要的*/
			/*background:#00C;*/
		}
		#functionTree {
			height:300px;
			width:200px;
		    margin:10px;/*设置元素跟其他元素的距离为20像素*/
		    float:left;/*设置浮动，实现多列效果，div+Css布局中很重要的*/
			/*background:#00C;*/
		}
		#symbolArea {
			height:300px;
			width:250px;
		    margin:10px;/*设置元素跟其他元素的距离为20像素*/
		    float:left;/*设置浮动，实现多列效果，div+Css布局中很重要的*/
			/*background:#00C;*/
		}
		#windowFooter{
			width:790px;
			text-align: right;
			margin:10px;
		}
		#sortGridArea {
			width:89%;
			float:left;
			padding-bottom:2000px;/*处理左右多列等高*/
			margin-bottom:-2000px;
		}
		#sortGrid {
			margin:10px;
		}
		#sortButtons {
			float:left;
			margin:10px;
			padding-bottom:2000px;/*处理左右多列等高*/
			margin-bottom:-2000px;
		}
		#distinctCenter {
			text-align: center;
			height:550px;
			margin-top:20px;
		}
		#pmGridArea {
			width:89%;
			float:left;
			padding-bottom:2000px;/*处理左右多列等高*/
			margin-bottom:-2000px;
		}
		#pmGrid {
			margin:10px;
		}
		#pmButtons {
			float:left;
			margin:10px;
			padding-bottom:2000px;/*处理左右多列等高*/
			margin-bottom:-2000px;
		}
		#refInfoGrid{
			width:500px;
			height:400px;
			margin:10px;
		}
		#refInfoButtons{
			text-align: right;
		}
		#maGrid {
			/*background:#90C;*/
			width:850px;
			height:500px;
			float:left;
			margin:10px;
			/*background:#90C;*/
			/*margin-top:20px; 此处讲解margin的用法，设置content与上面header元素之间的距离*/
		}
		#maButtons {
			/*background:#90C;*/
			width:100px;
			height:500px;
			float:left;
			margin:10px;
			/*background:#90C;*/
			/*margin-top:20px; 此处讲解margin的用法，设置content与上面header元素之间的距离*/
		}
		#Footer {
			margin:10px;
			text-align: right;
			padding-top:10px;/*本div上边距100*/
		}
	</style>
</body>
</html>